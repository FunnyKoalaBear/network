{% extends "network/layout.html" %}

{% load static %}

<!--This will just display all posts-->

{% block body %}
    <h1>All Posts</h1>

    <div class="post">
        <h5>New Post</h5>

        <form action="{% url 'newPost' %}" method="POST" style="margin: 0;"></form>
            {% csrf_token %}

            <textarea id="postContent" rows="2" style="width: 60%;" placeholder="Write your post here..."></textarea>
            <br>
            <a href=""><button id="submitPost">Submit</button></a>
        </form>
    </div>

    {% for post in posts %}
        <div class="post">
            <h5>{{ post.title }}</h5>
            <p>{{ post.content }}</p>
            <p style="color: rgb(71, 64, 64);">Posted by {{ post.user.username }} on {{ post.timestamp }}</p>
            
            <p style="display: flex; align-items: center; margin: 0;">
                <a  href="{% url 'likePost' post.id %}"><span style="font-size: 24px; margin-right: 8px; vertical-align: middle;">❤️</span></a>
                <span style="line-height: 30px;">{{ post.likes.count }}</span>
            </p>

            <p>Comments: {{ post.comments.count }}</p>
        </div>
    {% endfor %}

{% endblock %}